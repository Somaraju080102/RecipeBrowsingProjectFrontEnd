{"ast":null,"code":"import{createContext,useState,useEffect}from\"react\";// Create the UserContext\nimport{jsx as _jsx}from\"react/jsx-runtime\";export const UserContext=/*#__PURE__*/createContext();// UserProvider component to wrap the application\nexport function UserProvider(_ref){let{children}=_ref;// User, email, and recipe state with localStorage persistence\nconst[user,setUser]=useState(()=>{const storedUser=localStorage.getItem(\"user\");return storedUser?JSON.parse(storedUser):null;});const[userEmail,setUserEmail]=useState(()=>{const storedEmail=localStorage.getItem(\"userEmail\");return storedEmail?JSON.parse(storedEmail):null;});const[recipeId,setRecipeId]=useState(()=>{const storedRecipeId=localStorage.getItem(\"recipeId\");return storedRecipeId?JSON.parse(storedRecipeId):null;});// Store user in localStorage when the state changes\nuseEffect(()=>{if(user){localStorage.setItem(\"user\",JSON.stringify(user));}else{localStorage.removeItem(\"user\");}},[user]);// Store userEmail in localStorage when the state changes\nuseEffect(()=>{if(userEmail){localStorage.setItem(\"userEmail\",JSON.stringify(userEmail));}else{localStorage.removeItem(\"userEmail\");}},[userEmail]);// Store recipeId in localStorage when the state changes\nuseEffect(()=>{if(recipeId){localStorage.setItem(\"recipeId\",JSON.stringify(recipeId));}else{localStorage.removeItem(\"recipeId\");}},[recipeId]);// Handle user login\nconst handleLogin=username=>{setUser({name:username});};// Handle user email\nconst handleEmail=useremail=>{setUserEmail({email:useremail});};// Handle recipe ID\nconst handleRecipeId=recipeid=>{setRecipeId({id:recipeid});};// Handle user logout\nconst handleLogout=()=>{setUser(null);setUserEmail(null);setRecipeId(null);localStorage.clear();// Clear everything from localStorage\n};return/*#__PURE__*/_jsx(UserContext.Provider,{value:{user,handleLogin,handleLogout,userEmail,handleEmail,recipeId,handleRecipeId},children:children});}","map":{"version":3,"names":["createContext","useState","useEffect","jsx","_jsx","UserContext","UserProvider","_ref","children","user","setUser","storedUser","localStorage","getItem","JSON","parse","userEmail","setUserEmail","storedEmail","recipeId","setRecipeId","storedRecipeId","setItem","stringify","removeItem","handleLogin","username","name","handleEmail","useremail","email","handleRecipeId","recipeid","id","handleLogout","clear","Provider","value"],"sources":["D:/react-sample/src/RecipeFrontend/src/RecipeCodeFrontend/RecipeUserContext.jsx"],"sourcesContent":["import { createContext, useState, useEffect } from \"react\";\r\n\r\n// Create the UserContext\r\nexport const UserContext = createContext();\r\n\r\n// UserProvider component to wrap the application\r\nexport function UserProvider({ children }) {\r\n  // User, email, and recipe state with localStorage persistence\r\n  const [user, setUser] = useState(() => {\r\n    const storedUser = localStorage.getItem(\"user\");\r\n    return storedUser ? JSON.parse(storedUser) : null;\r\n  });\r\n\r\n  const [userEmail, setUserEmail] = useState(() => {\r\n    const storedEmail = localStorage.getItem(\"userEmail\");\r\n    return storedEmail ? JSON.parse(storedEmail) : null;\r\n  });\r\n\r\n  const [recipeId, setRecipeId] = useState(() => {\r\n    const storedRecipeId = localStorage.getItem(\"recipeId\");\r\n    return storedRecipeId ? JSON.parse(storedRecipeId) : null;\r\n  });\r\n\r\n  // Store user in localStorage when the state changes\r\n  useEffect(() => {\r\n    if (user) {\r\n      localStorage.setItem(\"user\", JSON.stringify(user));\r\n    } else {\r\n      localStorage.removeItem(\"user\");\r\n    }\r\n  }, [user]);\r\n\r\n  // Store userEmail in localStorage when the state changes\r\n  useEffect(() => {\r\n    if (userEmail) {\r\n      localStorage.setItem(\"userEmail\", JSON.stringify(userEmail));\r\n    } else {\r\n      localStorage.removeItem(\"userEmail\");\r\n    }\r\n  }, [userEmail]);\r\n\r\n  // Store recipeId in localStorage when the state changes\r\n  useEffect(() => {\r\n    if (recipeId) {\r\n      localStorage.setItem(\"recipeId\", JSON.stringify(recipeId));\r\n    } else {\r\n      localStorage.removeItem(\"recipeId\");\r\n    }\r\n  }, [recipeId]);\r\n\r\n  // Handle user login\r\n  const handleLogin = (username) => {\r\n    setUser({ name: username });\r\n  };\r\n\r\n  // Handle user email\r\n  const handleEmail = (useremail) => {\r\n    setUserEmail({ email: useremail });\r\n  };\r\n\r\n  // Handle recipe ID\r\n  const handleRecipeId = (recipeid) => {\r\n    setRecipeId({ id: recipeid });\r\n  };\r\n\r\n  // Handle user logout\r\n  const handleLogout = () => {\r\n    setUser(null);\r\n    setUserEmail(null);\r\n    setRecipeId(null);\r\n    localStorage.clear(); // Clear everything from localStorage\r\n  };\r\n\r\n  return (\r\n    <UserContext.Provider\r\n      value={{\r\n        user,\r\n        handleLogin,\r\n        handleLogout,\r\n        userEmail,\r\n        handleEmail,\r\n        recipeId,\r\n        handleRecipeId,\r\n      }}\r\n    >\r\n      {children}\r\n    </UserContext.Provider>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}